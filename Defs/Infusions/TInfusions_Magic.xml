<?xml version="1.0" encoding="UTF-8"?>
<Defs>


    <Infusion.InfusionDef ParentName="TI_MeleeMagicMasterwork">
        <defName>TI_MeleeMagicMasterwork_Healing</defName>
        <label>healing</label>
        <labelShort>heal</labelShort>
        <onHits>
            <li Class="Infusion.OnHitWorkers.HealCaster">
                <amount>0.05</amount>
            </li>
            <li Class="Infusion.OnHitWorkers.ThrowFleck">
                <def>HealingCross</def>
                <selfCast>true</selfCast>
            </li>
        </onHits>
        <extraDescriptions>
            <li>Heals user's fresh wounds when dealing damage.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>

    <Infusion.InfusionDef ParentName="TI_SharpMagicMasterwork">
        <defName>TI_SharpMagicMasterwork_Leeching</defName>
        <label>leaching</label>
        <labelShort>leach</labelShort>
        <onHits>
            <li Class="Infusion.OnHitWorkers.IfBioTargetHit">
                <value Class="Infusion.OnHitWorkers.Sequence">
                    <value>
                        <li Class="Infusion.OnHitWorkers.ApplyHediff">
                            <def>BloodLoss</def>
                            <amount>0.2</amount>
                        </li>
                        <li Class="Infusion.OnHitWorkers.HealCaster">
                            <amount>0.075</amount>
                        </li>
                        <li Class="Infusion.OnHitWorkers.ThrowFleck">
                            <def>HealingCross</def>
                            <selfCast>true</selfCast>
                        </li>
                    </value>
                </value>
            </li>
        </onHits>
        <extraDescriptions>
            <li>If the target has blood, drains it to heal user's fresh wounds.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>

    <Infusion.InfusionDef ParentName="TI_RangedMagicMasterwork">
        <defName>TI_RangedMagicMasterwork_Healing</defName>
        <label>healing</label>
        <labelShort>heal</labelShort>
        <onHits>
            <li Class="Infusion.OnHitWorkers.HealCaster">
                <amount>0.05</amount>
                <chance>0.3</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ThrowFleck">
                <def>HealingCross</def>
                <selfCast>true</selfCast>
            </li>
        </onHits>
        <extraDescriptions>
            <li>30% chance to heal user's fresh wounds when dealing damage.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>

    <Infusion.InfusionDef ParentName="TI_RangedMagicLegendary">
        <defName>TI_RangedMagicLegendary_Leaching</defName>
        <label>leaching</label>
        <labelShort>leach</labelShort>
        <onHits>
            <li Class="Infusion.OnHitWorkers.IfBioTargetHit">
                <value Class="Infusion.OnHitWorkers.Sequence">
                    <value>
                        <li Class="Infusion.OnHitWorkers.ApplyHediff">
                            <def>BloodLoss</def>
                            <amount>0.2</amount>
                        </li>
                        <li Class="Infusion.OnHitWorkers.HealCaster">
                            <amount>0.05</amount>
                        </li>
                        <li Class="Infusion.OnHitWorkers.ThrowFleck">
                            <def>HealingCross</def>
                            <selfCast>true</selfCast>
                        </li>
                    </value>
                </value>
            </li>
        </onHits>
        <extraDescriptions>
            <li>If the target has blood, drains it on hits to heal user's fresh wounds.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>


    <Infusion.InfusionDef ParentName="TI_SharpMagicGood">
        <defName>TI_SharpMagicGood_BloodSucking</defName>
        <label>blood sucking</label>
        <labelShort>blood</labelShort>
        <onHits>
            <li Class="Infusion.OnHitWorkers.IfBioTargetHit">
                <value Class="Infusion.OnHitWorkers.Sequence">
                    <value>
                        <li Class="Infusion.OnHitWorkers.ApplyHediff">
                            <def>BloodLoss</def>
                            <amount>0.2</amount>
                        </li>
                        <li Class="Infusion.OnHitWorkers.ReduceSeverity">
                            <def>BloodLoss</def>
                            <amount>0.2</amount>
                            <selfCast>true</selfCast>
                        </li>
                        <li Class="Infusion.OnHitWorkers.ThrowFleck">
                            <def>HealingCross</def>
                            <selfCast>true</selfCast>
                        </li>
                    </value>
                </value>
            </li>
        </onHits>
        <extraDescriptions>
            <li>Sucks blood from target into the user.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>

    <Infusion.InfusionDef ParentName="TI_RangedMagicGood">
        <defName>TI_RangedMagicGood_Random</defName>
        <label>random</label>
        <labelShort>rndm</labelShort>
        <onHits>
            <!-- hediffs -->
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>BloodLoss</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>ToxicBuildup</def>
                <amount>1</amount>
                <chance>0.05</chance>
                <severityScaleBy>ToxicSensitivity</severityScaleBy>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Hypothermia</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Heatstroke</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Malnutrition</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>

            <!-- explosions -->
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Bomb</def>
                <amount>0.5</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Bomb</def>
                <amount>0.25</amount>
                <radius>3</radius>
                <chance>0.025</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Flame</def>
                <amount>0.5</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Flame</def>
                <amount>0.25</amount>
                <radius>5</radius>
                <chance>0.025</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.025</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.0125</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.025</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.0125</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.025</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.0125</chance>
            </li>

            <!-- damage -->
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Frostbite</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Burn</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Stun</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>

        </onHits>
        <extraDescriptions>
            <li>Applies random effects on hits.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>


    <Infusion.InfusionDef ParentName="TI_RangedMagicExcellent">
        <defName>TI_RangedMagicExcellent_Chaotic</defName>
        <label>chaotic</label>
        <labelShort>chaos</labelShort>
        <onHits>
            <!-- hediffs -->
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>BloodLoss</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>ToxicBuildup</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
                <severityScaleBy>ToxicSensitivity</severityScaleBy>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Hypothermia</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Heatstroke</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Malnutrition</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>

            <!-- explosions -->
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Bomb</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Bomb</def>
                <amount>0.25</amount>
                <radius>3</radius>
                <chance>0.1</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Flame</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Flame</def>
                <amount>0.25</amount>
                <radius>5</radius>
                <chance>0.1</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>1</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.1</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>1</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.1</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>1</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.1</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.05</chance>
            </li>

            <!-- damage -->
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Frostbite</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Burn</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Stun</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
        </onHits>
        <extraDescriptions>
            <li>Applies a bunch of small random effects on hit.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>

    <Infusion.InfusionDef ParentName="TI_MeleeMagicExcellent">
        <defName>TI_MeleeMagicExcellent_Random</defName>
        <label>random</label>
        <labelShort>rndm</labelShort>
        <onHits>
            <!-- hediffs -->
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>BloodLoss</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>ToxicBuildup</def>
                <amount>1</amount>
                <chance>0.05</chance>
                <severityScaleBy>ToxicSensitivity</severityScaleBy>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Hypothermia</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Heatstroke</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Malnutrition</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>

            <!-- explosions -->
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Bomb</def>
                <amount>0.5</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Flame</def>
                <amount>0.5</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.025</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.0125</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.025</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.0125</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.025</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.0125</chance>
            </li>

            <!-- damage -->
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Frostbite</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Burn</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Stun</def>
                <amount>1</amount>
                <chance>0.05</chance>
            </li>

        </onHits>
        <extraDescriptions>
            <li>Applies random effects on hits.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>


    <Infusion.InfusionDef ParentName="TI_MeleeMagicExcellent">
        <defName>TI_MeleeMagicExcellent_Chaotic</defName>
        <label>chaotic</label>
        <labelShort>chaos</labelShort>
        <onHits>
            <!-- hediffs -->
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>BloodLoss</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>ToxicBuildup</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
                <severityScaleBy>ToxicSensitivity</severityScaleBy>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Hypothermia</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Heatstroke</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyHediff">
                <def>Malnutrition</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>

            <!-- explosions -->
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Bomb</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Flame</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>1</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.1</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>EMP</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>1</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.1</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Smoke</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.05</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>1</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>0.75</amount>
                <radius>5</radius>
                <chance>0.1</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.CreateExplosion">
                <def>Extinguish</def>
                <amount>0.5</amount>
                <radius>10</radius>
                <chance>0.05</chance>
            </li>

            <!-- damage -->
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Frostbite</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Burn</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>Stun</def>
                <amount>0.25</amount>
                <chance>0.2</chance>
            </li>
        </onHits>
        <extraDescriptions>
            <li>Applies a bunch of small random effects on hit.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>


    <!-- !!!-->
    <Infusion.InfusionDef ParentName="TI_RangedMagicMasterwork" MayRequire="sarg.magicalmenagerie">
        <defName>TI_RangedMagicMasterwork_MagicalMenageriePetrifying</defName>
        <label>petrifying</label>
        <labelShort>petrf</labelShort>
        <onHits>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>MM_PetrifyingGaze</def>
                <amount>0.0035</amount>
            </li>
        </onHits>
        <extraDescriptions>
            <li>Petrifies the target.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>

    <Infusion.InfusionDef ParentName="TI_MeleeMagicExcellent" MayRequire="sarg.magicalmenagerie">
        <defName>TI_MeleeMagicExcellent_MagialMenageriePetrifying</defName>
        <label>petrifying</label>
        <labelShort>petrf</labelShort>
        <onHits>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>MM_PetrifyingGaze</def>
                <amount>0.006</amount>
            </li>
        </onHits>
        <extraDescriptions>
            <li>Petrifies the target.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>

    <Infusion.InfusionDef ParentName="TI_RangedMagicExcellent" MayRequire="mooloh.dndmenagerie">
        <defName>TI_RangedMagicExcellent_DnDMenagerieNecrosis</defName>
        <label>necrosis</label>
        <labelShort>ncrs</labelShort>
        <onHits>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>DND_DmgDef_BeholderEnervationRay</def>
                <amount>11.5</amount>
            </li>
        </onHits>
        <stats>
            <li>
                <key>RangedWeapon_DamageMultiplier</key>
                <value>
                    <multiplier>-0.9</multiplier>
                </value>
            </li>
        </stats>
        <extraDescriptions>
            <li>Causes large selections of tissue to decay on the body, which is more likely to get infected and more painful. Deals about 115% damage.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>

    <Infusion.InfusionDef ParentName="TI_SharpMagicGood" MayRequire="mooloh.dndmenagerie">
        <defName>TI_SharpMagicGood_DnDMenagerieNecrosis</defName>
        <label>necrosis</label>
        <labelShort>ncrs</labelShort>
        <onHits>
            <li Class="Infusion.OnHitWorkers.ApplyDamage">
                <def>DND_DmgDef_BeholderEnervationRay</def>
                <amount>11.5</amount>
            </li>
        </onHits>
        <stats>
            <li>
                <key>MeleeWeapon_DamageMultiplier</key>
                <value>
                    <multiplier>-0.9</multiplier>
                </value>
            </li>
        </stats>
        <extraDescriptions>
            <li>Causes large selections of tissue to decay on the body, which is more likely to get infected and more painful. Deals about 115% damage.</li>
        </extraDescriptions>
    </Infusion.InfusionDef>

</Defs>